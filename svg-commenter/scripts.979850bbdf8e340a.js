module.exports=Stream;var EE=require("events").EventEmitter,inherits=require("inherits");function Stream(){EE.call(this)}inherits(Stream,EE),Stream.Readable=require("readable-stream/lib/_stream_readable.js"),Stream.Writable=require("readable-stream/lib/_stream_writable.js"),Stream.Duplex=require("readable-stream/lib/_stream_duplex.js"),Stream.Transform=require("readable-stream/lib/_stream_transform.js"),Stream.PassThrough=require("readable-stream/lib/_stream_passthrough.js"),Stream.finished=require("readable-stream/lib/internal/streams/end-of-stream.js"),Stream.pipeline=require("readable-stream/lib/internal/streams/pipeline.js"),Stream.Stream=Stream,Stream.prototype.pipe=function(e,t){var r=this;function l(a){e.writable&&!1===e.write(a)&&r.pause&&r.pause()}function s(){r.readable&&r.resume&&r.resume()}r.on("data",l),e.on("drain",s),!e._isStdio&&(!t||!1!==t.end)&&(r.on("end",u),r.on("close",m));var n=!1;function u(){n||(n=!0,e.end())}function m(){n||(n=!0,"function"==typeof e.destroy&&e.destroy())}function o(a){if(i(),0===EE.listenerCount(this,"error"))throw a}function i(){r.removeListener("data",l),e.removeListener("drain",s),r.removeListener("end",u),r.removeListener("close",m),r.removeListener("error",o),e.removeListener("error",o),r.removeListener("end",i),r.removeListener("close",i),e.removeListener("close",i)}return r.on("error",o),e.on("error",o),r.on("end",i),r.on("close",i),e.on("close",i),e.emit("pipe",r),e};var scope=typeof global<"u"&&global||typeof self<"u"&&self||window,apply=Function.prototype.apply;function Timeout(e,t){this._id=e,this._clearFn=t}exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,scope,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,scope,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(e){e&&e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(scope,this._id)},exports.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},exports.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},exports._unrefActive=exports.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},require("setimmediate"),exports.setImmediate=typeof self<"u"&&self.setImmediate||typeof global<"u"&&global.setImmediate||this&&this.setImmediate,exports.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof global<"u"&&global.clearImmediate||this&&this.clearImmediate;